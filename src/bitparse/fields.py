from dataclasses import dataclass
from typing import Annotated, Any, Literal, Protocol
import struct

from bitarray import bitarray
import bitarray.util as util

from .bitview import bitview

@dataclass
class Field[T](Protocol):
    placeholder: bool = False

    def from_bytes(self, buffer: bitview) -> tuple[T, bitview]: ...
    def to_bits(self, val: Any) -> bitarray: ...


@dataclass
class Float:
    bits: Literal[16, 32, 64]
    placeholder: bool = False

    def __post_init__(self):
        match self.bits:
            case 16:
                self.fmt = ">e"
            case 32:
                self.fmt = ">f"
            case 64:
                self.fmt = ">d"
            case _:
                raise ValueError(f"Unsupported float bit size: {self.bits}")

    def from_bytes(self, buffer: bitview) -> tuple[int, bitview]:
        return struct.unpack(self.fmt, buffer[: self.bits].to_bytes())[0], buffer[self.bits :]

    def to_bits(self, val: int) -> bitarray:
        return bitarray(struct.pack(self.fmt, val))


@dataclass
class UInt:
    bits: int
    placeholder: bool = False

    def from_bytes(self, buffer: bitview) -> tuple[int, bitview]:
        return buffer[: self.bits].to_int(signed=False), buffer[self.bits :]

    def to_bits(self, val: int) -> bitarray:
        return util.int2ba(val, length=self.bits, signed=False)


@dataclass
class Int:
    bits: int
    placeholder: bool = False

    def from_bytes(self, buffer: bitview) -> tuple[int, bitview]:
        return buffer[: self.bits].to_int(signed=True), buffer[self.bits :]

    def to_bits(self, val: int) -> bitarray:
        return util.int2ba(val, length=self.bits, signed=True)


@dataclass
class Bool:
    bits: int
    placeholder: bool = False

    def from_bytes(self, buffer: bitview) -> tuple[bool, bitview]:
        val = buffer[: self.bits].to_int(signed=False)
        return bool(val), buffer[self.bits :]

    def to_bits(self, val: bool) -> bitarray:
        return util.int2ba(val, length=self.bits, signed=False)


type f16 = Annotated[int, Float(bits=16)]
type f32 = Annotated[int, Float(bits=32)]
type f64 = Annotated[int, Float(bits=64)]

type u1 = Annotated[int, UInt(bits=1)]
type u2 = Annotated[int, UInt(bits=2)]
type u3 = Annotated[int, UInt(bits=3)]
type u4 = Annotated[int, UInt(bits=4)]
type u5 = Annotated[int, UInt(bits=5)]
type u6 = Annotated[int, UInt(bits=6)]
type u7 = Annotated[int, UInt(bits=7)]
type u8 = Annotated[int, UInt(bits=8)]
type u9 = Annotated[int, UInt(bits=9)]
type u10 = Annotated[int, UInt(bits=10)]
type u11 = Annotated[int, UInt(bits=11)]
type u12 = Annotated[int, UInt(bits=12)]
type u13 = Annotated[int, UInt(bits=13)]
type u14 = Annotated[int, UInt(bits=14)]
type u15 = Annotated[int, UInt(bits=15)]
type u16 = Annotated[int, UInt(bits=16)]
type u17 = Annotated[int, UInt(bits=17)]
type u18 = Annotated[int, UInt(bits=18)]
type u19 = Annotated[int, UInt(bits=19)]
type u20 = Annotated[int, UInt(bits=20)]
type u21 = Annotated[int, UInt(bits=21)]
type u22 = Annotated[int, UInt(bits=22)]
type u23 = Annotated[int, UInt(bits=23)]
type u24 = Annotated[int, UInt(bits=24)]
type u25 = Annotated[int, UInt(bits=25)]
type u26 = Annotated[int, UInt(bits=26)]
type u27 = Annotated[int, UInt(bits=27)]
type u28 = Annotated[int, UInt(bits=28)]
type u29 = Annotated[int, UInt(bits=29)]
type u30 = Annotated[int, UInt(bits=30)]
type u31 = Annotated[int, UInt(bits=31)]
type u32 = Annotated[int, UInt(bits=32)]
type u33 = Annotated[int, UInt(bits=33)]
type u34 = Annotated[int, UInt(bits=34)]
type u35 = Annotated[int, UInt(bits=35)]
type u36 = Annotated[int, UInt(bits=36)]
type u37 = Annotated[int, UInt(bits=37)]
type u38 = Annotated[int, UInt(bits=38)]
type u39 = Annotated[int, UInt(bits=39)]
type u40 = Annotated[int, UInt(bits=40)]
type u41 = Annotated[int, UInt(bits=41)]
type u42 = Annotated[int, UInt(bits=42)]
type u43 = Annotated[int, UInt(bits=43)]
type u44 = Annotated[int, UInt(bits=44)]
type u45 = Annotated[int, UInt(bits=45)]
type u46 = Annotated[int, UInt(bits=46)]
type u47 = Annotated[int, UInt(bits=47)]
type u48 = Annotated[int, UInt(bits=48)]
type u49 = Annotated[int, UInt(bits=49)]
type u50 = Annotated[int, UInt(bits=50)]
type u51 = Annotated[int, UInt(bits=51)]
type u52 = Annotated[int, UInt(bits=52)]
type u53 = Annotated[int, UInt(bits=53)]
type u54 = Annotated[int, UInt(bits=54)]
type u55 = Annotated[int, UInt(bits=55)]
type u56 = Annotated[int, UInt(bits=56)]
type u57 = Annotated[int, UInt(bits=57)]
type u58 = Annotated[int, UInt(bits=58)]
type u59 = Annotated[int, UInt(bits=59)]
type u60 = Annotated[int, UInt(bits=60)]
type u61 = Annotated[int, UInt(bits=61)]
type u62 = Annotated[int, UInt(bits=62)]
type u63 = Annotated[int, UInt(bits=63)]
type u64 = Annotated[int, UInt(bits=64)]
type u65 = Annotated[int, UInt(bits=65)]
type u66 = Annotated[int, UInt(bits=66)]
type u67 = Annotated[int, UInt(bits=67)]
type u68 = Annotated[int, UInt(bits=68)]
type u69 = Annotated[int, UInt(bits=69)]
type u70 = Annotated[int, UInt(bits=70)]
type u71 = Annotated[int, UInt(bits=71)]
type u72 = Annotated[int, UInt(bits=72)]
type u73 = Annotated[int, UInt(bits=73)]
type u74 = Annotated[int, UInt(bits=74)]
type u75 = Annotated[int, UInt(bits=75)]
type u76 = Annotated[int, UInt(bits=76)]
type u77 = Annotated[int, UInt(bits=77)]
type u78 = Annotated[int, UInt(bits=78)]
type u79 = Annotated[int, UInt(bits=79)]
type u80 = Annotated[int, UInt(bits=80)]
type u81 = Annotated[int, UInt(bits=81)]
type u82 = Annotated[int, UInt(bits=82)]
type u83 = Annotated[int, UInt(bits=83)]
type u84 = Annotated[int, UInt(bits=84)]
type u85 = Annotated[int, UInt(bits=85)]
type u86 = Annotated[int, UInt(bits=86)]
type u87 = Annotated[int, UInt(bits=87)]
type u88 = Annotated[int, UInt(bits=88)]
type u89 = Annotated[int, UInt(bits=89)]
type u90 = Annotated[int, UInt(bits=90)]
type u91 = Annotated[int, UInt(bits=91)]
type u92 = Annotated[int, UInt(bits=92)]
type u93 = Annotated[int, UInt(bits=93)]
type u94 = Annotated[int, UInt(bits=94)]
type u95 = Annotated[int, UInt(bits=95)]
type u96 = Annotated[int, UInt(bits=96)]
type u97 = Annotated[int, UInt(bits=97)]
type u98 = Annotated[int, UInt(bits=98)]
type u99 = Annotated[int, UInt(bits=99)]
type u100 = Annotated[int, UInt(bits=100)]
type u101 = Annotated[int, UInt(bits=101)]
type u102 = Annotated[int, UInt(bits=102)]
type u103 = Annotated[int, UInt(bits=103)]
type u104 = Annotated[int, UInt(bits=104)]
type u105 = Annotated[int, UInt(bits=105)]
type u106 = Annotated[int, UInt(bits=106)]
type u107 = Annotated[int, UInt(bits=107)]
type u108 = Annotated[int, UInt(bits=108)]
type u109 = Annotated[int, UInt(bits=109)]
type u110 = Annotated[int, UInt(bits=110)]
type u111 = Annotated[int, UInt(bits=111)]
type u112 = Annotated[int, UInt(bits=112)]
type u113 = Annotated[int, UInt(bits=113)]
type u114 = Annotated[int, UInt(bits=114)]
type u115 = Annotated[int, UInt(bits=115)]
type u116 = Annotated[int, UInt(bits=116)]
type u117 = Annotated[int, UInt(bits=117)]
type u118 = Annotated[int, UInt(bits=118)]
type u119 = Annotated[int, UInt(bits=119)]
type u120 = Annotated[int, UInt(bits=120)]
type u121 = Annotated[int, UInt(bits=121)]
type u122 = Annotated[int, UInt(bits=122)]
type u123 = Annotated[int, UInt(bits=123)]
type u124 = Annotated[int, UInt(bits=124)]
type u125 = Annotated[int, UInt(bits=125)]
type u126 = Annotated[int, UInt(bits=126)]
type u127 = Annotated[int, UInt(bits=127)]
type u128 = Annotated[int, UInt(bits=128)]
type u129 = Annotated[int, UInt(bits=129)]
type u130 = Annotated[int, UInt(bits=130)]
type u131 = Annotated[int, UInt(bits=131)]
type u132 = Annotated[int, UInt(bits=132)]
type u133 = Annotated[int, UInt(bits=133)]
type u134 = Annotated[int, UInt(bits=134)]
type u135 = Annotated[int, UInt(bits=135)]
type u136 = Annotated[int, UInt(bits=136)]
type u137 = Annotated[int, UInt(bits=137)]
type u138 = Annotated[int, UInt(bits=138)]
type u139 = Annotated[int, UInt(bits=139)]
type u140 = Annotated[int, UInt(bits=140)]
type u141 = Annotated[int, UInt(bits=141)]
type u142 = Annotated[int, UInt(bits=142)]
type u143 = Annotated[int, UInt(bits=143)]
type u144 = Annotated[int, UInt(bits=144)]
type u145 = Annotated[int, UInt(bits=145)]
type u146 = Annotated[int, UInt(bits=146)]
type u147 = Annotated[int, UInt(bits=147)]
type u148 = Annotated[int, UInt(bits=148)]
type u149 = Annotated[int, UInt(bits=149)]
type u150 = Annotated[int, UInt(bits=150)]
type u151 = Annotated[int, UInt(bits=151)]
type u152 = Annotated[int, UInt(bits=152)]
type u153 = Annotated[int, UInt(bits=153)]
type u154 = Annotated[int, UInt(bits=154)]
type u155 = Annotated[int, UInt(bits=155)]
type u156 = Annotated[int, UInt(bits=156)]
type u157 = Annotated[int, UInt(bits=157)]
type u158 = Annotated[int, UInt(bits=158)]
type u159 = Annotated[int, UInt(bits=159)]
type u160 = Annotated[int, UInt(bits=160)]
type u161 = Annotated[int, UInt(bits=161)]
type u162 = Annotated[int, UInt(bits=162)]
type u163 = Annotated[int, UInt(bits=163)]
type u164 = Annotated[int, UInt(bits=164)]
type u165 = Annotated[int, UInt(bits=165)]
type u166 = Annotated[int, UInt(bits=166)]
type u167 = Annotated[int, UInt(bits=167)]
type u168 = Annotated[int, UInt(bits=168)]
type u169 = Annotated[int, UInt(bits=169)]
type u170 = Annotated[int, UInt(bits=170)]
type u171 = Annotated[int, UInt(bits=171)]
type u172 = Annotated[int, UInt(bits=172)]
type u173 = Annotated[int, UInt(bits=173)]
type u174 = Annotated[int, UInt(bits=174)]
type u175 = Annotated[int, UInt(bits=175)]
type u176 = Annotated[int, UInt(bits=176)]
type u177 = Annotated[int, UInt(bits=177)]
type u178 = Annotated[int, UInt(bits=178)]
type u179 = Annotated[int, UInt(bits=179)]
type u180 = Annotated[int, UInt(bits=180)]
type u181 = Annotated[int, UInt(bits=181)]
type u182 = Annotated[int, UInt(bits=182)]
type u183 = Annotated[int, UInt(bits=183)]
type u184 = Annotated[int, UInt(bits=184)]
type u185 = Annotated[int, UInt(bits=185)]
type u186 = Annotated[int, UInt(bits=186)]
type u187 = Annotated[int, UInt(bits=187)]
type u188 = Annotated[int, UInt(bits=188)]
type u189 = Annotated[int, UInt(bits=189)]
type u190 = Annotated[int, UInt(bits=190)]
type u191 = Annotated[int, UInt(bits=191)]
type u192 = Annotated[int, UInt(bits=192)]
type u193 = Annotated[int, UInt(bits=193)]
type u194 = Annotated[int, UInt(bits=194)]
type u195 = Annotated[int, UInt(bits=195)]
type u196 = Annotated[int, UInt(bits=196)]
type u197 = Annotated[int, UInt(bits=197)]
type u198 = Annotated[int, UInt(bits=198)]
type u199 = Annotated[int, UInt(bits=199)]
type u200 = Annotated[int, UInt(bits=200)]
type u201 = Annotated[int, UInt(bits=201)]
type u202 = Annotated[int, UInt(bits=202)]
type u203 = Annotated[int, UInt(bits=203)]
type u204 = Annotated[int, UInt(bits=204)]
type u205 = Annotated[int, UInt(bits=205)]
type u206 = Annotated[int, UInt(bits=206)]
type u207 = Annotated[int, UInt(bits=207)]
type u208 = Annotated[int, UInt(bits=208)]
type u209 = Annotated[int, UInt(bits=209)]
type u210 = Annotated[int, UInt(bits=210)]
type u211 = Annotated[int, UInt(bits=211)]
type u212 = Annotated[int, UInt(bits=212)]
type u213 = Annotated[int, UInt(bits=213)]
type u214 = Annotated[int, UInt(bits=214)]
type u215 = Annotated[int, UInt(bits=215)]
type u216 = Annotated[int, UInt(bits=216)]
type u217 = Annotated[int, UInt(bits=217)]
type u218 = Annotated[int, UInt(bits=218)]
type u219 = Annotated[int, UInt(bits=219)]
type u220 = Annotated[int, UInt(bits=220)]
type u221 = Annotated[int, UInt(bits=221)]
type u222 = Annotated[int, UInt(bits=222)]
type u223 = Annotated[int, UInt(bits=223)]
type u224 = Annotated[int, UInt(bits=224)]
type u225 = Annotated[int, UInt(bits=225)]
type u226 = Annotated[int, UInt(bits=226)]
type u227 = Annotated[int, UInt(bits=227)]
type u228 = Annotated[int, UInt(bits=228)]
type u229 = Annotated[int, UInt(bits=229)]
type u230 = Annotated[int, UInt(bits=230)]
type u231 = Annotated[int, UInt(bits=231)]
type u232 = Annotated[int, UInt(bits=232)]
type u233 = Annotated[int, UInt(bits=233)]
type u234 = Annotated[int, UInt(bits=234)]
type u235 = Annotated[int, UInt(bits=235)]
type u236 = Annotated[int, UInt(bits=236)]
type u237 = Annotated[int, UInt(bits=237)]
type u238 = Annotated[int, UInt(bits=238)]
type u239 = Annotated[int, UInt(bits=239)]
type u240 = Annotated[int, UInt(bits=240)]
type u241 = Annotated[int, UInt(bits=241)]
type u242 = Annotated[int, UInt(bits=242)]
type u243 = Annotated[int, UInt(bits=243)]
type u244 = Annotated[int, UInt(bits=244)]
type u245 = Annotated[int, UInt(bits=245)]
type u246 = Annotated[int, UInt(bits=246)]
type u247 = Annotated[int, UInt(bits=247)]
type u248 = Annotated[int, UInt(bits=248)]
type u249 = Annotated[int, UInt(bits=249)]
type u250 = Annotated[int, UInt(bits=250)]
type u251 = Annotated[int, UInt(bits=251)]
type u252 = Annotated[int, UInt(bits=252)]
type u253 = Annotated[int, UInt(bits=253)]
type u254 = Annotated[int, UInt(bits=254)]
type u255 = Annotated[int, UInt(bits=255)]
type u256 = Annotated[int, UInt(bits=256)]

type i1 = Annotated[int, Int(bits=1)]
type i2 = Annotated[int, Int(bits=2)]
type i3 = Annotated[int, Int(bits=3)]
type i4 = Annotated[int, Int(bits=4)]
type i5 = Annotated[int, Int(bits=5)]
type i6 = Annotated[int, Int(bits=6)]
type i7 = Annotated[int, Int(bits=7)]
type i8 = Annotated[int, Int(bits=8)]
type i9 = Annotated[int, Int(bits=9)]
type i10 = Annotated[int, Int(bits=10)]
type i11 = Annotated[int, Int(bits=11)]
type i12 = Annotated[int, Int(bits=12)]
type i13 = Annotated[int, Int(bits=13)]
type i14 = Annotated[int, Int(bits=14)]
type i15 = Annotated[int, Int(bits=15)]
type i16 = Annotated[int, Int(bits=16)]
type i17 = Annotated[int, Int(bits=17)]
type i18 = Annotated[int, Int(bits=18)]
type i19 = Annotated[int, Int(bits=19)]
type i20 = Annotated[int, Int(bits=20)]
type i21 = Annotated[int, Int(bits=21)]
type i22 = Annotated[int, Int(bits=22)]
type i23 = Annotated[int, Int(bits=23)]
type i24 = Annotated[int, Int(bits=24)]
type i25 = Annotated[int, Int(bits=25)]
type i26 = Annotated[int, Int(bits=26)]
type i27 = Annotated[int, Int(bits=27)]
type i28 = Annotated[int, Int(bits=28)]
type i29 = Annotated[int, Int(bits=29)]
type i30 = Annotated[int, Int(bits=30)]
type i31 = Annotated[int, Int(bits=31)]
type i32 = Annotated[int, Int(bits=32)]
type i33 = Annotated[int, Int(bits=33)]
type i34 = Annotated[int, Int(bits=34)]
type i35 = Annotated[int, Int(bits=35)]
type i36 = Annotated[int, Int(bits=36)]
type i37 = Annotated[int, Int(bits=37)]
type i38 = Annotated[int, Int(bits=38)]
type i39 = Annotated[int, Int(bits=39)]
type i40 = Annotated[int, Int(bits=40)]
type i41 = Annotated[int, Int(bits=41)]
type i42 = Annotated[int, Int(bits=42)]
type i43 = Annotated[int, Int(bits=43)]
type i44 = Annotated[int, Int(bits=44)]
type i45 = Annotated[int, Int(bits=45)]
type i46 = Annotated[int, Int(bits=46)]
type i47 = Annotated[int, Int(bits=47)]
type i48 = Annotated[int, Int(bits=48)]
type i49 = Annotated[int, Int(bits=49)]
type i50 = Annotated[int, Int(bits=50)]
type i51 = Annotated[int, Int(bits=51)]
type i52 = Annotated[int, Int(bits=52)]
type i53 = Annotated[int, Int(bits=53)]
type i54 = Annotated[int, Int(bits=54)]
type i55 = Annotated[int, Int(bits=55)]
type i56 = Annotated[int, Int(bits=56)]
type i57 = Annotated[int, Int(bits=57)]
type i58 = Annotated[int, Int(bits=58)]
type i59 = Annotated[int, Int(bits=59)]
type i60 = Annotated[int, Int(bits=60)]
type i61 = Annotated[int, Int(bits=61)]
type i62 = Annotated[int, Int(bits=62)]
type i63 = Annotated[int, Int(bits=63)]
type i64 = Annotated[int, Int(bits=64)]
type i65 = Annotated[int, Int(bits=65)]
type i66 = Annotated[int, Int(bits=66)]
type i67 = Annotated[int, Int(bits=67)]
type i68 = Annotated[int, Int(bits=68)]
type i69 = Annotated[int, Int(bits=69)]
type i70 = Annotated[int, Int(bits=70)]
type i71 = Annotated[int, Int(bits=71)]
type i72 = Annotated[int, Int(bits=72)]
type i73 = Annotated[int, Int(bits=73)]
type i74 = Annotated[int, Int(bits=74)]
type i75 = Annotated[int, Int(bits=75)]
type i76 = Annotated[int, Int(bits=76)]
type i77 = Annotated[int, Int(bits=77)]
type i78 = Annotated[int, Int(bits=78)]
type i79 = Annotated[int, Int(bits=79)]
type i80 = Annotated[int, Int(bits=80)]
type i81 = Annotated[int, Int(bits=81)]
type i82 = Annotated[int, Int(bits=82)]
type i83 = Annotated[int, Int(bits=83)]
type i84 = Annotated[int, Int(bits=84)]
type i85 = Annotated[int, Int(bits=85)]
type i86 = Annotated[int, Int(bits=86)]
type i87 = Annotated[int, Int(bits=87)]
type i88 = Annotated[int, Int(bits=88)]
type i89 = Annotated[int, Int(bits=89)]
type i90 = Annotated[int, Int(bits=90)]
type i91 = Annotated[int, Int(bits=91)]
type i92 = Annotated[int, Int(bits=92)]
type i93 = Annotated[int, Int(bits=93)]
type i94 = Annotated[int, Int(bits=94)]
type i95 = Annotated[int, Int(bits=95)]
type i96 = Annotated[int, Int(bits=96)]
type i97 = Annotated[int, Int(bits=97)]
type i98 = Annotated[int, Int(bits=98)]
type i99 = Annotated[int, Int(bits=99)]
type i100 = Annotated[int, Int(bits=100)]
type i101 = Annotated[int, Int(bits=101)]
type i102 = Annotated[int, Int(bits=102)]
type i103 = Annotated[int, Int(bits=103)]
type i104 = Annotated[int, Int(bits=104)]
type i105 = Annotated[int, Int(bits=105)]
type i106 = Annotated[int, Int(bits=106)]
type i107 = Annotated[int, Int(bits=107)]
type i108 = Annotated[int, Int(bits=108)]
type i109 = Annotated[int, Int(bits=109)]
type i110 = Annotated[int, Int(bits=110)]
type i111 = Annotated[int, Int(bits=111)]
type i112 = Annotated[int, Int(bits=112)]
type i113 = Annotated[int, Int(bits=113)]
type i114 = Annotated[int, Int(bits=114)]
type i115 = Annotated[int, Int(bits=115)]
type i116 = Annotated[int, Int(bits=116)]
type i117 = Annotated[int, Int(bits=117)]
type i118 = Annotated[int, Int(bits=118)]
type i119 = Annotated[int, Int(bits=119)]
type i120 = Annotated[int, Int(bits=120)]
type i121 = Annotated[int, Int(bits=121)]
type i122 = Annotated[int, Int(bits=122)]
type i123 = Annotated[int, Int(bits=123)]
type i124 = Annotated[int, Int(bits=124)]
type i125 = Annotated[int, Int(bits=125)]
type i126 = Annotated[int, Int(bits=126)]
type i127 = Annotated[int, Int(bits=127)]
type i128 = Annotated[int, Int(bits=128)]
type i129 = Annotated[int, Int(bits=129)]
type i130 = Annotated[int, Int(bits=130)]
type i131 = Annotated[int, Int(bits=131)]
type i132 = Annotated[int, Int(bits=132)]
type i133 = Annotated[int, Int(bits=133)]
type i134 = Annotated[int, Int(bits=134)]
type i135 = Annotated[int, Int(bits=135)]
type i136 = Annotated[int, Int(bits=136)]
type i137 = Annotated[int, Int(bits=137)]
type i138 = Annotated[int, Int(bits=138)]
type i139 = Annotated[int, Int(bits=139)]
type i140 = Annotated[int, Int(bits=140)]
type i141 = Annotated[int, Int(bits=141)]
type i142 = Annotated[int, Int(bits=142)]
type i143 = Annotated[int, Int(bits=143)]
type i144 = Annotated[int, Int(bits=144)]
type i145 = Annotated[int, Int(bits=145)]
type i146 = Annotated[int, Int(bits=146)]
type i147 = Annotated[int, Int(bits=147)]
type i148 = Annotated[int, Int(bits=148)]
type i149 = Annotated[int, Int(bits=149)]
type i150 = Annotated[int, Int(bits=150)]
type i151 = Annotated[int, Int(bits=151)]
type i152 = Annotated[int, Int(bits=152)]
type i153 = Annotated[int, Int(bits=153)]
type i154 = Annotated[int, Int(bits=154)]
type i155 = Annotated[int, Int(bits=155)]
type i156 = Annotated[int, Int(bits=156)]
type i157 = Annotated[int, Int(bits=157)]
type i158 = Annotated[int, Int(bits=158)]
type i159 = Annotated[int, Int(bits=159)]
type i160 = Annotated[int, Int(bits=160)]
type i161 = Annotated[int, Int(bits=161)]
type i162 = Annotated[int, Int(bits=162)]
type i163 = Annotated[int, Int(bits=163)]
type i164 = Annotated[int, Int(bits=164)]
type i165 = Annotated[int, Int(bits=165)]
type i166 = Annotated[int, Int(bits=166)]
type i167 = Annotated[int, Int(bits=167)]
type i168 = Annotated[int, Int(bits=168)]
type i169 = Annotated[int, Int(bits=169)]
type i170 = Annotated[int, Int(bits=170)]
type i171 = Annotated[int, Int(bits=171)]
type i172 = Annotated[int, Int(bits=172)]
type i173 = Annotated[int, Int(bits=173)]
type i174 = Annotated[int, Int(bits=174)]
type i175 = Annotated[int, Int(bits=175)]
type i176 = Annotated[int, Int(bits=176)]
type i177 = Annotated[int, Int(bits=177)]
type i178 = Annotated[int, Int(bits=178)]
type i179 = Annotated[int, Int(bits=179)]
type i180 = Annotated[int, Int(bits=180)]
type i181 = Annotated[int, Int(bits=181)]
type i182 = Annotated[int, Int(bits=182)]
type i183 = Annotated[int, Int(bits=183)]
type i184 = Annotated[int, Int(bits=184)]
type i185 = Annotated[int, Int(bits=185)]
type i186 = Annotated[int, Int(bits=186)]
type i187 = Annotated[int, Int(bits=187)]
type i188 = Annotated[int, Int(bits=188)]
type i189 = Annotated[int, Int(bits=189)]
type i190 = Annotated[int, Int(bits=190)]
type i191 = Annotated[int, Int(bits=191)]
type i192 = Annotated[int, Int(bits=192)]
type i193 = Annotated[int, Int(bits=193)]
type i194 = Annotated[int, Int(bits=194)]
type i195 = Annotated[int, Int(bits=195)]
type i196 = Annotated[int, Int(bits=196)]
type i197 = Annotated[int, Int(bits=197)]
type i198 = Annotated[int, Int(bits=198)]
type i199 = Annotated[int, Int(bits=199)]
type i200 = Annotated[int, Int(bits=200)]
type i201 = Annotated[int, Int(bits=201)]
type i202 = Annotated[int, Int(bits=202)]
type i203 = Annotated[int, Int(bits=203)]
type i204 = Annotated[int, Int(bits=204)]
type i205 = Annotated[int, Int(bits=205)]
type i206 = Annotated[int, Int(bits=206)]
type i207 = Annotated[int, Int(bits=207)]
type i208 = Annotated[int, Int(bits=208)]
type i209 = Annotated[int, Int(bits=209)]
type i210 = Annotated[int, Int(bits=210)]
type i211 = Annotated[int, Int(bits=211)]
type i212 = Annotated[int, Int(bits=212)]
type i213 = Annotated[int, Int(bits=213)]
type i214 = Annotated[int, Int(bits=214)]
type i215 = Annotated[int, Int(bits=215)]
type i216 = Annotated[int, Int(bits=216)]
type i217 = Annotated[int, Int(bits=217)]
type i218 = Annotated[int, Int(bits=218)]
type i219 = Annotated[int, Int(bits=219)]
type i220 = Annotated[int, Int(bits=220)]
type i221 = Annotated[int, Int(bits=221)]
type i222 = Annotated[int, Int(bits=222)]
type i223 = Annotated[int, Int(bits=223)]
type i224 = Annotated[int, Int(bits=224)]
type i225 = Annotated[int, Int(bits=225)]
type i226 = Annotated[int, Int(bits=226)]
type i227 = Annotated[int, Int(bits=227)]
type i228 = Annotated[int, Int(bits=228)]
type i229 = Annotated[int, Int(bits=229)]
type i230 = Annotated[int, Int(bits=230)]
type i231 = Annotated[int, Int(bits=231)]
type i232 = Annotated[int, Int(bits=232)]
type i233 = Annotated[int, Int(bits=233)]
type i234 = Annotated[int, Int(bits=234)]
type i235 = Annotated[int, Int(bits=235)]
type i236 = Annotated[int, Int(bits=236)]
type i237 = Annotated[int, Int(bits=237)]
type i238 = Annotated[int, Int(bits=238)]
type i239 = Annotated[int, Int(bits=239)]
type i240 = Annotated[int, Int(bits=240)]
type i241 = Annotated[int, Int(bits=241)]
type i242 = Annotated[int, Int(bits=242)]
type i243 = Annotated[int, Int(bits=243)]
type i244 = Annotated[int, Int(bits=244)]
type i245 = Annotated[int, Int(bits=245)]
type i246 = Annotated[int, Int(bits=246)]
type i247 = Annotated[int, Int(bits=247)]
type i248 = Annotated[int, Int(bits=248)]
type i249 = Annotated[int, Int(bits=249)]
type i250 = Annotated[int, Int(bits=250)]
type i251 = Annotated[int, Int(bits=251)]
type i252 = Annotated[int, Int(bits=252)]
type i253 = Annotated[int, Int(bits=253)]
type i254 = Annotated[int, Int(bits=254)]
type i255 = Annotated[int, Int(bits=255)]
type i256 = Annotated[int, Int(bits=256)]

type b1 = Annotated[bool, Bool(bits=1)]
type b2 = Annotated[bool, Bool(bits=2)]
type b3 = Annotated[bool, Bool(bits=3)]
type b4 = Annotated[bool, Bool(bits=4)]
type b5 = Annotated[bool, Bool(bits=5)]
type b6 = Annotated[bool, Bool(bits=6)]
type b7 = Annotated[bool, Bool(bits=7)]
type b8 = Annotated[bool, Bool(bits=8)]
type b9 = Annotated[bool, Bool(bits=9)]
type b10 = Annotated[bool, Bool(bits=10)]
type b11 = Annotated[bool, Bool(bits=11)]
type b12 = Annotated[bool, Bool(bits=12)]
type b13 = Annotated[bool, Bool(bits=13)]
type b14 = Annotated[bool, Bool(bits=14)]
type b15 = Annotated[bool, Bool(bits=15)]
type b16 = Annotated[bool, Bool(bits=16)]
type b17 = Annotated[bool, Bool(bits=17)]
type b18 = Annotated[bool, Bool(bits=18)]
type b19 = Annotated[bool, Bool(bits=19)]
type b20 = Annotated[bool, Bool(bits=20)]
type b21 = Annotated[bool, Bool(bits=21)]
type b22 = Annotated[bool, Bool(bits=22)]
type b23 = Annotated[bool, Bool(bits=23)]
type b24 = Annotated[bool, Bool(bits=24)]
type b25 = Annotated[bool, Bool(bits=25)]
type b26 = Annotated[bool, Bool(bits=26)]
type b27 = Annotated[bool, Bool(bits=27)]
type b28 = Annotated[bool, Bool(bits=28)]
type b29 = Annotated[bool, Bool(bits=29)]
type b30 = Annotated[bool, Bool(bits=30)]
type b31 = Annotated[bool, Bool(bits=31)]
type b32 = Annotated[bool, Bool(bits=32)]
type b33 = Annotated[bool, Bool(bits=33)]
type b34 = Annotated[bool, Bool(bits=34)]
type b35 = Annotated[bool, Bool(bits=35)]
type b36 = Annotated[bool, Bool(bits=36)]
type b37 = Annotated[bool, Bool(bits=37)]
type b38 = Annotated[bool, Bool(bits=38)]
type b39 = Annotated[bool, Bool(bits=39)]
type b40 = Annotated[bool, Bool(bits=40)]
type b41 = Annotated[bool, Bool(bits=41)]
type b42 = Annotated[bool, Bool(bits=42)]
type b43 = Annotated[bool, Bool(bits=43)]
type b44 = Annotated[bool, Bool(bits=44)]
type b45 = Annotated[bool, Bool(bits=45)]
type b46 = Annotated[bool, Bool(bits=46)]
type b47 = Annotated[bool, Bool(bits=47)]
type b48 = Annotated[bool, Bool(bits=48)]
type b49 = Annotated[bool, Bool(bits=49)]
type b50 = Annotated[bool, Bool(bits=50)]
type b51 = Annotated[bool, Bool(bits=51)]
type b52 = Annotated[bool, Bool(bits=52)]
type b53 = Annotated[bool, Bool(bits=53)]
type b54 = Annotated[bool, Bool(bits=54)]
type b55 = Annotated[bool, Bool(bits=55)]
type b56 = Annotated[bool, Bool(bits=56)]
type b57 = Annotated[bool, Bool(bits=57)]
type b58 = Annotated[bool, Bool(bits=58)]
type b59 = Annotated[bool, Bool(bits=59)]
type b60 = Annotated[bool, Bool(bits=60)]
type b61 = Annotated[bool, Bool(bits=61)]
type b62 = Annotated[bool, Bool(bits=62)]
type b63 = Annotated[bool, Bool(bits=63)]
type b64 = Annotated[bool, Bool(bits=64)]
type b65 = Annotated[bool, Bool(bits=65)]
type b66 = Annotated[bool, Bool(bits=66)]
type b67 = Annotated[bool, Bool(bits=67)]
type b68 = Annotated[bool, Bool(bits=68)]
type b69 = Annotated[bool, Bool(bits=69)]
type b70 = Annotated[bool, Bool(bits=70)]
type b71 = Annotated[bool, Bool(bits=71)]
type b72 = Annotated[bool, Bool(bits=72)]
type b73 = Annotated[bool, Bool(bits=73)]
type b74 = Annotated[bool, Bool(bits=74)]
type b75 = Annotated[bool, Bool(bits=75)]
type b76 = Annotated[bool, Bool(bits=76)]
type b77 = Annotated[bool, Bool(bits=77)]
type b78 = Annotated[bool, Bool(bits=78)]
type b79 = Annotated[bool, Bool(bits=79)]
type b80 = Annotated[bool, Bool(bits=80)]
type b81 = Annotated[bool, Bool(bits=81)]
type b82 = Annotated[bool, Bool(bits=82)]
type b83 = Annotated[bool, Bool(bits=83)]
type b84 = Annotated[bool, Bool(bits=84)]
type b85 = Annotated[bool, Bool(bits=85)]
type b86 = Annotated[bool, Bool(bits=86)]
type b87 = Annotated[bool, Bool(bits=87)]
type b88 = Annotated[bool, Bool(bits=88)]
type b89 = Annotated[bool, Bool(bits=89)]
type b90 = Annotated[bool, Bool(bits=90)]
type b91 = Annotated[bool, Bool(bits=91)]
type b92 = Annotated[bool, Bool(bits=92)]
type b93 = Annotated[bool, Bool(bits=93)]
type b94 = Annotated[bool, Bool(bits=94)]
type b95 = Annotated[bool, Bool(bits=95)]
type b96 = Annotated[bool, Bool(bits=96)]
type b97 = Annotated[bool, Bool(bits=97)]
type b98 = Annotated[bool, Bool(bits=98)]
type b99 = Annotated[bool, Bool(bits=99)]
type b100 = Annotated[bool, Bool(bits=100)]
type b101 = Annotated[bool, Bool(bits=101)]
type b102 = Annotated[bool, Bool(bits=102)]
type b103 = Annotated[bool, Bool(bits=103)]
type b104 = Annotated[bool, Bool(bits=104)]
type b105 = Annotated[bool, Bool(bits=105)]
type b106 = Annotated[bool, Bool(bits=106)]
type b107 = Annotated[bool, Bool(bits=107)]
type b108 = Annotated[bool, Bool(bits=108)]
type b109 = Annotated[bool, Bool(bits=109)]
type b110 = Annotated[bool, Bool(bits=110)]
type b111 = Annotated[bool, Bool(bits=111)]
type b112 = Annotated[bool, Bool(bits=112)]
type b113 = Annotated[bool, Bool(bits=113)]
type b114 = Annotated[bool, Bool(bits=114)]
type b115 = Annotated[bool, Bool(bits=115)]
type b116 = Annotated[bool, Bool(bits=116)]
type b117 = Annotated[bool, Bool(bits=117)]
type b118 = Annotated[bool, Bool(bits=118)]
type b119 = Annotated[bool, Bool(bits=119)]
type b120 = Annotated[bool, Bool(bits=120)]
type b121 = Annotated[bool, Bool(bits=121)]
type b122 = Annotated[bool, Bool(bits=122)]
type b123 = Annotated[bool, Bool(bits=123)]
type b124 = Annotated[bool, Bool(bits=124)]
type b125 = Annotated[bool, Bool(bits=125)]
type b126 = Annotated[bool, Bool(bits=126)]
type b127 = Annotated[bool, Bool(bits=127)]
type b128 = Annotated[bool, Bool(bits=128)]
type b129 = Annotated[bool, Bool(bits=129)]
type b130 = Annotated[bool, Bool(bits=130)]
type b131 = Annotated[bool, Bool(bits=131)]
type b132 = Annotated[bool, Bool(bits=132)]
type b133 = Annotated[bool, Bool(bits=133)]
type b134 = Annotated[bool, Bool(bits=134)]
type b135 = Annotated[bool, Bool(bits=135)]
type b136 = Annotated[bool, Bool(bits=136)]
type b137 = Annotated[bool, Bool(bits=137)]
type b138 = Annotated[bool, Bool(bits=138)]
type b139 = Annotated[bool, Bool(bits=139)]
type b140 = Annotated[bool, Bool(bits=140)]
type b141 = Annotated[bool, Bool(bits=141)]
type b142 = Annotated[bool, Bool(bits=142)]
type b143 = Annotated[bool, Bool(bits=143)]
type b144 = Annotated[bool, Bool(bits=144)]
type b145 = Annotated[bool, Bool(bits=145)]
type b146 = Annotated[bool, Bool(bits=146)]
type b147 = Annotated[bool, Bool(bits=147)]
type b148 = Annotated[bool, Bool(bits=148)]
type b149 = Annotated[bool, Bool(bits=149)]
type b150 = Annotated[bool, Bool(bits=150)]
type b151 = Annotated[bool, Bool(bits=151)]
type b152 = Annotated[bool, Bool(bits=152)]
type b153 = Annotated[bool, Bool(bits=153)]
type b154 = Annotated[bool, Bool(bits=154)]
type b155 = Annotated[bool, Bool(bits=155)]
type b156 = Annotated[bool, Bool(bits=156)]
type b157 = Annotated[bool, Bool(bits=157)]
type b158 = Annotated[bool, Bool(bits=158)]
type b159 = Annotated[bool, Bool(bits=159)]
type b160 = Annotated[bool, Bool(bits=160)]
type b161 = Annotated[bool, Bool(bits=161)]
type b162 = Annotated[bool, Bool(bits=162)]
type b163 = Annotated[bool, Bool(bits=163)]
type b164 = Annotated[bool, Bool(bits=164)]
type b165 = Annotated[bool, Bool(bits=165)]
type b166 = Annotated[bool, Bool(bits=166)]
type b167 = Annotated[bool, Bool(bits=167)]
type b168 = Annotated[bool, Bool(bits=168)]
type b169 = Annotated[bool, Bool(bits=169)]
type b170 = Annotated[bool, Bool(bits=170)]
type b171 = Annotated[bool, Bool(bits=171)]
type b172 = Annotated[bool, Bool(bits=172)]
type b173 = Annotated[bool, Bool(bits=173)]
type b174 = Annotated[bool, Bool(bits=174)]
type b175 = Annotated[bool, Bool(bits=175)]
type b176 = Annotated[bool, Bool(bits=176)]
type b177 = Annotated[bool, Bool(bits=177)]
type b178 = Annotated[bool, Bool(bits=178)]
type b179 = Annotated[bool, Bool(bits=179)]
type b180 = Annotated[bool, Bool(bits=180)]
type b181 = Annotated[bool, Bool(bits=181)]
type b182 = Annotated[bool, Bool(bits=182)]
type b183 = Annotated[bool, Bool(bits=183)]
type b184 = Annotated[bool, Bool(bits=184)]
type b185 = Annotated[bool, Bool(bits=185)]
type b186 = Annotated[bool, Bool(bits=186)]
type b187 = Annotated[bool, Bool(bits=187)]
type b188 = Annotated[bool, Bool(bits=188)]
type b189 = Annotated[bool, Bool(bits=189)]
type b190 = Annotated[bool, Bool(bits=190)]
type b191 = Annotated[bool, Bool(bits=191)]
type b192 = Annotated[bool, Bool(bits=192)]
type b193 = Annotated[bool, Bool(bits=193)]
type b194 = Annotated[bool, Bool(bits=194)]
type b195 = Annotated[bool, Bool(bits=195)]
type b196 = Annotated[bool, Bool(bits=196)]
type b197 = Annotated[bool, Bool(bits=197)]
type b198 = Annotated[bool, Bool(bits=198)]
type b199 = Annotated[bool, Bool(bits=199)]
type b200 = Annotated[bool, Bool(bits=200)]
type b201 = Annotated[bool, Bool(bits=201)]
type b202 = Annotated[bool, Bool(bits=202)]
type b203 = Annotated[bool, Bool(bits=203)]
type b204 = Annotated[bool, Bool(bits=204)]
type b205 = Annotated[bool, Bool(bits=205)]
type b206 = Annotated[bool, Bool(bits=206)]
type b207 = Annotated[bool, Bool(bits=207)]
type b208 = Annotated[bool, Bool(bits=208)]
type b209 = Annotated[bool, Bool(bits=209)]
type b210 = Annotated[bool, Bool(bits=210)]
type b211 = Annotated[bool, Bool(bits=211)]
type b212 = Annotated[bool, Bool(bits=212)]
type b213 = Annotated[bool, Bool(bits=213)]
type b214 = Annotated[bool, Bool(bits=214)]
type b215 = Annotated[bool, Bool(bits=215)]
type b216 = Annotated[bool, Bool(bits=216)]
type b217 = Annotated[bool, Bool(bits=217)]
type b218 = Annotated[bool, Bool(bits=218)]
type b219 = Annotated[bool, Bool(bits=219)]
type b220 = Annotated[bool, Bool(bits=220)]
type b221 = Annotated[bool, Bool(bits=221)]
type b222 = Annotated[bool, Bool(bits=222)]
type b223 = Annotated[bool, Bool(bits=223)]
type b224 = Annotated[bool, Bool(bits=224)]
type b225 = Annotated[bool, Bool(bits=225)]
type b226 = Annotated[bool, Bool(bits=226)]
type b227 = Annotated[bool, Bool(bits=227)]
type b228 = Annotated[bool, Bool(bits=228)]
type b229 = Annotated[bool, Bool(bits=229)]
type b230 = Annotated[bool, Bool(bits=230)]
type b231 = Annotated[bool, Bool(bits=231)]
type b232 = Annotated[bool, Bool(bits=232)]
type b233 = Annotated[bool, Bool(bits=233)]
type b234 = Annotated[bool, Bool(bits=234)]
type b235 = Annotated[bool, Bool(bits=235)]
type b236 = Annotated[bool, Bool(bits=236)]
type b237 = Annotated[bool, Bool(bits=237)]
type b238 = Annotated[bool, Bool(bits=238)]
type b239 = Annotated[bool, Bool(bits=239)]
type b240 = Annotated[bool, Bool(bits=240)]
type b241 = Annotated[bool, Bool(bits=241)]
type b242 = Annotated[bool, Bool(bits=242)]
type b243 = Annotated[bool, Bool(bits=243)]
type b244 = Annotated[bool, Bool(bits=244)]
type b245 = Annotated[bool, Bool(bits=245)]
type b246 = Annotated[bool, Bool(bits=246)]
type b247 = Annotated[bool, Bool(bits=247)]
type b248 = Annotated[bool, Bool(bits=248)]
type b249 = Annotated[bool, Bool(bits=249)]
type b250 = Annotated[bool, Bool(bits=250)]
type b251 = Annotated[bool, Bool(bits=251)]
type b252 = Annotated[bool, Bool(bits=252)]
type b253 = Annotated[bool, Bool(bits=253)]
type b254 = Annotated[bool, Bool(bits=254)]
type b255 = Annotated[bool, Bool(bits=255)]
type b256 = Annotated[bool, Bool(bits=256)]
